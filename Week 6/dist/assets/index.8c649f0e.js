import{S as C,a as T,P as x,W as z,b as W,c as R,T as y,R as S,M as b,G as L,C as I}from"./vendor.b6098827.js";const _=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const w of t.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&r(w)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}};_();let i,s,p,j=new I,o,g,c,l,m;function k(){E(),A(),F()}function A(){g=new C,document.body.appendChild(g.dom)}function E(){s=new T,p=new x(75,window.innerWidth/window.innerHeight,.1,1e3),p.position.z=5,i=new z,i.shadowMap.enabled=!0,i.shadowMap.type=W,i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(i.domElement);const u=.25;o=new R(16777215),o.position.set(-.5,.5,4),o.castShadow=!0,o.intensity=u,s.add(o);const a=o.clone();a.intensity=1-u,a.castShadow=!1,s.add(a);const d=1024,r=.5,e=500;o.shadow.mapSize.width=d,o.shadow.mapSize.height=d,o.shadow.camera.near=r,o.shadow.camera.far=e;let t,w,M;new y().load("/resources/textures/pistachio.jpg",function(n){n.wrapS=n.wrapT=S,n.anisotropy=i.capabilities.getMaxAnisotropy(),t=new b({map:n}),new L().setPath("/resources/models/").load("ice_cream_left.gltf",function(f){c=f.scene,c.traverse(h=>{h.material=t}),c.scale.set(.01,.01,.01),c.position.x=-5,c.position.y=-2.5,c.rotation.y=-50,s.add(c)})}),new y().load("/resources/textures/snowcone.jpg",function(n){n.wrapS=n.wrapT=S,n.anisotropy=i.capabilities.getMaxAnisotropy(),w=new b({map:n}),new L().setPath("/resources/models/").load("ice_cream_middle.gltf",function(f){l=f.scene,l.traverse(h=>{h.material=w}),l.scale.set(.004,.004,.004),l.position.x=0,l.position.y=-2.5,l.rotation.x-=.1,s.add(l)})}),new y().load("/resources/textures/strawberry.jpg",function(n){n.wrapS=n.wrapT=S,n.anisotropy=i.capabilities.getMaxAnisotropy(),M=new b({map:n}),new L().setPath("/resources/models/").load("ice_cream_right.gltf",function(f){m=f.scene,m.traverse(h=>{h.material=M}),m.scale.set(.0045,.0045,.0045),m.position.x=2.5,m.position.y=-2.5,s.add(m)})}),v()}function F(){window.addEventListener("resize",H,!1),window.addEventListener("keydown",u=>{const{key:a}=u;switch(a){case"e":const d=window.open("","Canvas Image"),{domElement:r}=i;i.render(s,p);const e=r.toDataURL();if(!d)return;d.document.write(`<img src='${e}' width='${r.width}' height='${r.height}'>`);break}})}function H(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function v(){requestAnimationFrame(()=>{v()}),j.getDelta(),g&&g.update(),i.render(s,p)}k();
